<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <title>Document</title>
</head>

<body>
    <div class="Container">
        <div class="Container">
            <!--Header-->
            <div class="header">
                <div class="idSt">21120457</div>
                <div class="titleHeader">Movie Information</div>
                <div class="setting">
                    <div>21457</div>
                    <div class="form-check form-switch" id="darkModeSwitch-form">
                        <input class="form-check-input" type="checkbox" role="switch" id="darkModeSwitch">
                        <label class="form-check-label" for="darkModeSwitch" id="iconMode"><i
                                class="fa-regular fa-sun"></i></label>
                    </div>
                </div>
            </div>


            <!--Nav-->
            <div class="navbar">
                <a href="/" class="navTitle"><i class="fa-solid fa-house"></i></a>
                <a href="/fav" class="fav" style="text-decoration: none;">21457</a>
                <form class="d-flex" role="search">
                    <select name="type" class="form-select" required>
                        <option value="actor">Actor</option>
                        <option value="movie" selected>Movie</option>
                    </select>
                    <input v-model="keyword" class="form-control me-2" type="search" placeholder="Search"
                        aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
            </div>


            <!--Movie detail-->

            <div class="movieDetail">
                <div id="detail" class="container-fluid d-flex mt-4">
                    21457{for m in detailActor}
                    <div class="poster mx-4">
                        <img src="21457{m.image}">
                    </div>
                    <div class="border-movie-info">
                        <div class="title" style="font-size:2em;">21457{m.name}</div>
                        <div class="movie-meta-info container-fluid mt-2 py-1 px-2">

                            <div class="movie-dt">Role: </div>
                            <div class="movie-dd">21457{m.role}</div>
                            <br>
                            <div class="movie-dt">Summary: </div>
                            <div class="movie-dd">21457{m.summary}</div>
                            <br>
                            <div class="movie-dt">Birthday: </div>
                            <div class="movie-dd">21457{m.birthday}</div>
                            <br>
                            <div class="movie-dt">Deathdate </div>
                            <div class="movie-dd">21457{m.deathdate}</div>
                            <br>

                        </div>
                        {/for}
                        <div class="plot container-fluid mt-2 py-1 px-2">
                            <div class="movie-dt">List movies: </div>
                            21457{for m in listFilm}
                            <a href="/detailMovie?id=21457{m.id}" style="cursor: pointer;"
                                class="movie-dd">21457{m.title}</a>
                            {/for}
                            <br>
                        </div>
                    </div>
                </div>
            </div>

            <!--Footer-->
            <div class="header" style="height: 40px;">
                <div class="idSt">21120457</div>
                <div class="titleHeader">Movies info</div>
                <div class="setting">
                    <div>21457</div>
                </div>
            </div>
        </div>
</body>

</html>
<script>
    const darkModeSwitch = $('#darkModeSwitch')
    function getMediaPreference() {
        const hasDarkPreference = window.matchMedia(
            "(prefers-color-scheme: dark)"
        ).matches;
        if (hasDarkPreference) {
            return "dark-theme"
        } else {
            return "light-theme"
        }
    }
    // lấy màu nền lưu ở trạng thái trước
    function getTheme() {
        return localStorage.getItem("user-theme")
    }
    let icon = document.getElementById("iconMode");
    function setTheme(theme) {
        localStorage.setItem("user-theme", theme)

        this.userTheme = theme
        document.documentElement.className = theme

        const darkModeSwitch = document.getElementById("darkModeSwitch")
        if (theme === "dark-theme") {
            icon.innerHTML = `<i class="fa-regular fa-moon"></i>`
            darkModeSwitch.checked = true
        } else {
            icon.innerHTML = `<i class="fa-regular fa-sun"></i>`;
            darkModeSwitch.checked = false
        }
    }
    const initUserTheme = getTheme() || getMediaPreference()
    setTheme(initUserTheme)
    function toggleTheme() {
        const activeTheme = localStorage.getItem("user-theme")
        if (activeTheme === "light-theme") {
            this.setTheme("dark-theme")
        } else {
            this.setTheme("light-theme")
        }
    }
    $(darkModeSwitch).change(function (e) {
        e.preventDefault();
        toggleTheme();
    });
</script>